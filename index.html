<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>고지사항 입력 폼</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.1.2/dist/tailwind.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mx-auto p-8">
    <h1 class="text-3xl font-semibold mb-8">고지사항 입력</h1>
    
    <form id="disclosure-form" action="https://script.google.com/macros/s/YOUR_SCRIPT_URL/exec" method="POST" onsubmit="return showSuccessMessage(event)">
      
      <!-- 이름 -->
      <div class="mb-4">
        <label for="name" class="block">1. 이름 <span class="text-red-500">*</span></label>
        <input type="text" id="name" name="name" class="w-full p-2 border border-gray-300 rounded" required>
      </div>

      <!-- 생년월일 -->
      <div class="mb-4">
        <label for="dob" class="block">2. 생년월일 <span class="text-red-500">*</span></label>
        <input type="date" id="dob" name="dob" class="w-full p-2 border border-gray-300 rounded" required>
      </div>

      <!-- 직업 -->
      <div class="mb-4">
        <label for="occupation" class="block">3. 직업 <span class="text-red-500">*</span></label>
        <input type="text" id="occupation" name="occupation" class="w-full p-2 border border-gray-300 rounded" required>
      </div>

      <!-- 고지사항 1번 -->
      <div class="mb-4">
        <label for="question1" class="block">4. 최근 3개월 이내에 병원 가신 적 있으신가요? <span class="text-red-500">*</span></label>
        <div class="flex space-x-4">
          <label><input type="radio" name="question1" value="yes" class="mr-2" required> 예</label>
          <label><input type="radio" name="question1" value="no" class="mr-2"> 아니오</label>
        </div>
        <div class="mt-2" id="question1-details" style="display:none;">
          <label for="question1-details-input" class="block">세부사항 (입원, 수술, 질병확정진단, 약처방 등)</label>
          <textarea id="question1-details-input" name="question1_details" class="w-full p-2 border border-gray-300 rounded" placeholder="예시: 2023년 4월 10일 대상포진 7일 약처방"></textarea>
        </div>
      </div>

      <!-- 고지사항 2번 -->
      <div class="mb-4">
        <label for="question2" class="block">5. 최근 1년 이내에 의사로부터 진찰 또는 검사를 통하여 추가검사, 재검사를 받으신 적이 있으신가요? <span class="text-red-500">*</span></label>
        <div class="flex space-x-4">
          <label><input type="radio" name="question2" value="yes" class="mr-2" required> 예</label>
          <label><input type="radio" name="question2" value="no" class="mr-2"> 아니오</label>
        </div>
        <div class="mt-2" id="question2-details" style="display:none;">
          <label for="question2-details-input" class="block">세부사항</label>
          <textarea id="question2-details-input" name="question2_details" class="w-full p-2 border border-gray-300 rounded" placeholder="예시: 2023년 3월 25일 병원에서 추가 검사"></textarea>
        </div>
      </div>

      <!-- 고지사항 3번 -->
      <div class="mb-4">
        <label for="question3" class="block">6. 최근 5년 이내 입원, 수술, 하나의 질병 또는 사고로 7일 이상 통원, 30일 이상 약을 복용 하신 적이 있으신가요? <span class="text-red-500">*</span></label>
        <div class="flex space-x-4">
          <label><input type="radio" name="question3" value="yes" class="mr-2" required> 예</label>
          <label><input type="radio" name="question3" value="no" class="mr-2"> 아니오</label>
        </div>
        <div class="mt-2" id="question3-details" style="display:none;">
          <label for="question3-details-input" class="block">세부사항</label>
          <textarea id="question3-details-input" name="question3_details" class="w-full p-2 border border-gray-300 rounded" placeholder="예시: 2022년 7월 1일~10일, 10일간 병원에서 치료"></textarea>
        </div>
      </div>

      <!-- 고지사항 4번 (10대 질병 목록 추가) -->
      <div class="mb-4">
        <label for="question4" class="block">7. 최근 5년 이내 10대 질병으로 진단 및 치료 받으신 적이 있으신가요? <span class="text-red-500">*</span></label>
        <div class="text-sm text-gray-600">
          <p>(암, 백혈병, 고혈압, 협십증, 심근경색, 심장판막증, 간경화, 뇌졸중, 당뇨병, 에이즈)</p>
        </div>
        <div class="flex space-x-4">
          <label><input type="radio" name="question4" value="yes" class="mr-2" required> 예</label>
          <label><input type="radio" name="question4" value="no" class="mr-2"> 아니오</label>
        </div>
        <div class="mt-2" id="question4-details" style="display:none;">
          <label for="question4-details-input" class="block">세부사항</label>
          <textarea id="question4-details-input" name="question4_details" class="w-full p-2 border border-gray-300 rounded" placeholder="예시: 2020년 5월 3일 고혈압 진단 및 약처방"></textarea>
        </div>
      </div>

      <!-- 고지사항 5번 -->
      <div class="mb-4">
        <label for="question5" class="block">8. 최근 10년 이내 입원이나 수술 하신 적 있으신가요? <span class="text-red-500">*</span></label>
        <div class="flex space-x-4">
          <label><input type="radio" name="question5" value="yes" class="mr-2" required> 예</label>
          <label><input type="radio" name="question5" value="no" class="mr-2"> 아니오</label>
        </div>
        <div class="mt-2" id="question5-details" style="display:none;">
          <label for="question5-details-input" class="block">세부사항</label>
          <textarea id="question5-details-input" name="question5_details" class="w-full p-2 border border-gray-300 rounded" placeholder="예시: 2019년 9월 15일 수술 후 회복 중"></textarea>
        </div>
      </div>

      <!-- 추가 참고 사항 -->
      <div class="mt-4">
        <p class="text-sm text-gray-500">* 이 내용을 참고해서 작성해주세요!</p>
        <p class="text-sm text-gray-500">예시: 2022년 1월 10일 건강검진 중 대장용종제거 1개</p>
        <p class="text-sm text-gray-500">예시: 2024년 3월 3일 대상포진 3일 입원 약처방 7일치</p>
        <p class="text-sm text-gray-500">예시: 2025년 1월 5일 감기로 1회 통원 3일약처방</p>
      </div>

      <!-- 제출 버튼 -->
      <div class="mb-4">
        <button type="submit" class="w-full bg-blue-500 text-white p-2 rounded">제출</button>
      </div>
    </form>

    <!-- 성공 메시지 -->
    <div id="success-message" style="display:none;" class="bg-green-500 text-white p-4 rounded text-center">
      고지사항이 보험전문가에게 제출되었습니다.
    </div>
  </div>

  <script>
    // 각 문항별로 '예' 선택 시 세부사항 입력란 표시
    document.querySelectorAll('input[name="question1"]').forEach(input => {
      input.addEventListener('change', function() {
        document.getElementById('question1-details').style.display = this.value === 'yes' ? 'block' : 'none';
      });
    });

    document.querySelectorAll('input[name="question2"]').forEach(input => {
      input.addEventListener('change', function() {
        document.getElementById('question2-details').style.display = this.value === 'yes' ? 'block' : 'none';
      });
    });

    document.querySelectorAll('input[name="question3"]').forEach(input => {
      input.addEventListener('change', function() {
        document.getElementById('question3-details').style.display = this.value === 'yes' ? 'block' : 'none';
      });
    });

    document.querySelectorAll('input[name="question4"]').forEach(input => {
      input.addEventListener('change', function() {
        document.getElementById('question4-details').style.display = this.value === 'yes' ? 'block' : 'none';
      });
    });

    document.querySelectorAll('input[name="question5"]').forEach(input => {
      input.addEventListener('change', function() {
        document.getElementById('question5-details').style.display = this.value === 'yes' ? 'block' : 'none';
      });
    });

    // 제출 후 성공 메시지 표시
    function showSuccessMessage(event) {
      event.preventDefault(); // 폼 제출을 막고
      document.getElementById('disclosure-form').style.display = 'none'; // 폼 숨기기
      document.getElementById('success-message').style.display = 'block'; // 성공 메시지 표시
      return false;
    }
  </script>
</body>
</html>
